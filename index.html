<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PlayWatch â€“ Mega Gry i Zagadki</title>
<link rel="stylesheet" href="style.css">

<!-- Google Search Console -->
<meta name="google-site-verification" content="QfLBnMd0__vsX3u2wqf8pPBeqENz4B0Pn5aK794mkqQ" />

<!-- Google AdSense -->
<script data-ad-client="ca-pub-9599322707323836" async
src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<style>
body { font-family: Arial, sans-serif; background: linear-gradient(to right, #1e3c72, #2a5298); color: #fff; margin: 0; padding: 0;}
header, footer { text-align: center; padding: 20px; background: #0d1b33;}
section { margin: 20px auto; padding: 15px; max-width: 800px; background: rgba(0,0,0,0.6); border-radius: 10px;}
button { padding: 10px 15px; margin: 5px; cursor: pointer; border: none; border-radius: 5px; background: #ff9800; color: #000; font-weight: bold;}
input { padding: 8px; border-radius: 5px; border: none; width: 150px;}
#loginScreen { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh;}
#gameScreen { display: none; }
ol { padding-left: 20px; }
</style>
</head>
<body>

<!-- Ekran logowania -->
<div id="loginScreen">
  <h1>ğŸ® Witaj w PlayWatch!</h1>
  <p>Podaj swÃ³j nick, aby rozpoczÄ…Ä‡:</p>
  <input type="text" id="playerNick" placeholder="TwÃ³j nick">
  <button onclick="startGame()">Zaczynam!</button>
</div>

<!-- Ekran gry -->
<div id="gameScreen">
<header>
  <h1>ğŸ® PlayWatch</h1>
  <p>Nick: <span id="displayNick"></span></p>
  <p>Punkty: <span id="totalPoints">0</span></p>
  <p>Rebirthy: <span id="rebirthCount">0</span></p>
</header>

<!-- Gry -->
<section>
<h2>ğŸ§© Zagadki</h2>
<p id="riddleText">Kliknij "Nowa zagadka"</p>
<input type="text" id="riddleAnswer" placeholder="Twoja odpowiedÅº">
<button onclick="sprawdzZagadke()">SprawdÅº</button>
<button onclick="losujZagadke()">Nowa zagadka</button>
<p id="riddleResult"></p>
</section>

<section>
<h2>ğŸ”„ Rebirth</h2>
<p>Rebirth mnoÅ¼y punkty i zwiÄ™ksza siÄ™ w kolejnych progach:</p>
<button onclick="rebirth()">Rebirth Ã—</button>
</section>

<section>
<h2>ğŸ† Ranking TOP 100</h2>
<ol id="ranking"></ol>
</section>

<section>
<h2>ğŸ’° Bonus za reklamÄ™</h2>
<button onclick="bonusAdWatched()">OglÄ…daÅ‚em reklamÄ™</button>
</section>

<footer>
<a href="regulamin.html">Regulamin</a> |
<a href="polityka-prywatnosci.html">Polityka prywatnoÅ›ci</a> |
<a href="mailto:sikoraszymon45@gmail.com">Kontakt: sikoraszymon45@gmail.com</a>
</footer>

<script>
// ====== Zmienne gry ======
let totalPoints = parseInt(localStorage.getItem('totalPoints')) || 0;
let rebirthCount = parseInt(localStorage.getItem('rebirthCount')) || 0;
let currentNick = localStorage.getItem('currentNick') || "";
let rebirthMultiplier = calculateMultiplier(rebirthCount);

// ====== Ranking ======
let rankingData = JSON.parse(localStorage.getItem('rankingData')) || [];

// ====== Funkcje ======
function startGame() {
  let nick = document.getElementById('playerNick').value.trim();
  if(!nick) { alert("Podaj nick!"); return; }
  currentNick = nick;
  localStorage.setItem('currentNick', currentNick);
  document.getElementById('displayNick').innerText = currentNick;
  document.getElementById('loginScreen').style.display = 'none';
  document.getElementById('gameScreen').style.display = 'block';
  updateAllDisplays();
}

function updateAllDisplays(){
  document.getElementById('totalPoints').innerText = totalPoints;
  document.getElementById('rebirthCount').innerText = rebirthCount;
  updateRanking();
}

// ====== Punkty i rebirth ======
function addPoints(p){
  totalPoints += p * rebirthMultiplier;
  document.getElementById('totalPoints').innerText = totalPoints;
  localStorage.setItem('totalPoints', totalPoints);
  updateRanking();
}

function calculateMultiplier(count){
  if(count === 0) return 1;
  if(count === 1) return 2;
  if(count === 2) return 3;
  if(count === 3) return 4;
  if(count === 4) return 5;
  if(count >= 5) return count; // dla wiÄ™kszych rebirthÃ³w
  return 1;
}

function rebirth(){
  // Progi rebirthÃ³w: 1000, 1M, 10M, 100M, 1B, 10B
  let cost = 0;
  if(rebirthCount===0) cost=1000;
  else if(rebirthCount===1) cost=1000000;
  else if(rebirthCount===2) cost=10000000;
  else if(rebirthCount===3) cost=100000000;
  else if(rebirthCount===4) cost=1000000000;
  else cost = 10000000000;

  if(totalPoints >= cost){
    totalPoints = 0;
    rebirthCount++;
    rebirthMultiplier = calculateMultiplier(rebirthCount);
    document.getElementById('rebirthCount').innerText = rebirthCount;
    document.getElementById('totalPoints').innerText = totalPoints;
    localStorage.setItem('totalPoints', totalPoints);
    localStorage.setItem('rebirthCount', rebirthCount);
    alert(`Rebirth Ã—${rebirthMultiplier}! MnoÅ¼nik punktÃ³w teraz: ${rebirthMultiplier}`);
    updateRanking();
  } else {
    alert(`Nie masz wystarczajÄ…co punktÃ³w! Koszt rebirthu: ${cost}`);
  }
}

// ====== Ranking ======
function updateRanking(){
  let exists = rankingData.findIndex(x=>x.nick===currentNick);
  if(exists>=0) rankingData[exists].points = totalPoints;
  else rankingData.push({nick:currentNick, points:totalPoints});
  rankingData.sort((a,b)=>b.points-a.points);
  let top = rankingData.slice(0,100);
  let html = "";
  top.forEach(p=> html += `<li>${p.nick} - ${p.points} pkt</li>`);
  document.getElementById('ranking').innerHTML = html;
  localStorage.setItem('rankingData', JSON.stringify(rankingData));
}

// ====== Bonus reklama ======
function bonusAdWatched(){
  let bonus = 50;
  addPoints(bonus);
  alert(`Bonus +${bonus} pkt za obejrzenie reklamy!`);
}

// ====== Auto-logowanie ======
if(currentNick){
  document.getElementById('loginScreen').style.display = 'none';
  document.getElementById('gameScreen').style.display = 'block';
  document.getElementById('displayNick').innerText = currentNick;
  updateAllDisplays();
}
</script>
</body>
</html>
